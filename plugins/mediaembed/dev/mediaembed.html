<!DOCTYPE html>
<!--
Copyright (c) 2003-2014, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.md or http://ckeditor.com/license
-->
<html>
<head>
	<meta charset="utf-8">
	<title>Media Embed &ndash; CKEditor Sample</title>
	<script src="../../../ckeditor.js"></script>
	<link href="../../../samples/sample.css" rel="stylesheet">
	<style type="text/css">
		div.source{ display: none; }
	</style>
</head>
<body>
	<h1 class="samples">
		CKEditor Sample &mdash; Media Embed
	</h1>
	<div>
		Output strategy:
		<select id="strategy" onchange="stratUpdate( this );">
			<option value="default">Default</option>
			<option value="default+no_cache" selected="selected">Default (no cache)</option>
			<option value="oembed">Oembed</option>
		</select>
	</div>
	<p>
		<textarea id="editor1"></textarea>
	</p>

	<div class="source" id="content_oembed">
		<p>Vimeo video:</p>
		<oembed>http://vimeo.com/46523580</oembed>
		<p>Twitter sample:</p>
		<oembed>https://twitter.com/ckeditor/status/425619710181650432</oembed>
		<p>Github commit:</p>
		<oembed>https://github.com/ckeditor/ckeditor-dev/commit/1878f1a35306c5fa1cb4622d8f42c02d772741fb</oembed>
		<p>Gist sample:</p>
		<oembed>https://gist.github.com/leedo/796300</oembed>
	</div>
	<div class="source" id="content_default">
<p>Vimeo video:</p>

<div data-oembed-url="http://vimeo.com/46523580">
<div class="noembed-embed-inner noembed-vimeo"><iframe allowfullscreen="" frameborder="0" height="360" mozallowfullscreen="" src="//player.vimeo.com/video/46523580" title="Full 3d render DM environments" webkitallowfullscreen="" width="640"></iframe></div>
</div>

<p>Twitter sample:</p>

<div data-oembed-url="https://twitter.com/ckeditor/status/425619710181650432">
<div class="noembed-embed-inner noembed-twitter">
<div class="tweet_main">
<div class="tweet_user">
<div class="tweet_image"><a data-cke-saved-href="http://www.twitter.com/ckeditor" href="http://www.twitter.com/ckeditor" target="_blank"><img data-cke-saved-src="https://noembed.com/i/http://pbs.twimg.com/profile_images/2534229690/27xd5v85l46syvxgmobi_normal.jpeg" height="36" src="https://noembed.com/i/http://pbs.twimg.com/profile_images/2534229690/27xd5v85l46syvxgmobi_normal.jpeg" width="36" /> </a></div>

<div class="tweet_name"><a data-cke-saved-href="http://www.twitter.com/ckeditor" href="http://www.twitter.com/ckeditor" target="_blank"><span class="tweet_screen_name">CKEditor</span><br />
<span class="tweet_real_name">ckeditor</span> </a></div>
</div>

<div class="tweet_text">
<div>CKEditor 4.3.2 is out! This is a minor bug-fixing release that includes a few updates to the new #Widget system: <a data-cke-saved-href="http://ckeditor.com/blog/CKEditor-4.3.2-Released" href="http://ckeditor.com/blog/CKEditor-4.3.2-Released" target="_blank">ckeditor.com/blog/CKEditor-â€¦</a></div>
</div>

<div class="tweet_info"><a data-cke-saved-href="http://www.twitter.com/ckeditor/status/425619710181650432" href="http://www.twitter.com/ckeditor/status/425619710181650432" target="_blank"><span class="tweet_created_at" id="noembed-timestamp-c03d04f24c527cc37fa61d9c261606e339f86794">Tue Jan 21 13:23:41 +0000 2014</span> </a> via <a data-cke-saved-href="https://about.twitter.com/products/tweetdeck" href="https://about.twitter.com/products/tweetdeck" rel="nofollow">TweetDeck</a></div>
</div>
<script type="text/javascript">
  var months = ['Jan','Feb','Mar','Apr','May','June','July','Aug','Sept','Oct','Nov','Dec'];
  var elem = document.getElementById("noembed-timestamp-c03d04f24c527cc37fa61d9c261606e339f86794");
  var date = new Date(elem.innerHTML);

  if (date) {
    var hours = date.getHours();
    var minutes = date.getMinutes();
    if (minutes < 10) minutes = "0"+minutes.toString();

    elem.innerHTML =  hours + ":" + minutes+ " " + (months[date.getMonth()])
                   + " " + date.getDate() + ", " + date.getFullYear();
  }</script></div>
</div>

<p>Github commit:</p>

<div data-oembed-url="https://github.com/ckeditor/ckeditor-dev/commit/1878f1a35306c5fa1cb4622d8f42c02d772741fb">
<div class="noembed-embed-inner noembed-github">
<p class="github-description"><a class="github-user" data-cke-saved-href="https://api.github.com/users/Reinmar" href="https://api.github.com/users/Reinmar">Reinmar</a> <a data-cke-saved-href="https://api.github.com/repos/ckeditor/ckeditor-dev/git/commits/1878f1a35306c5fa1cb4622d8f42c02d772741fb" href="https://api.github.com/repos/ckeditor/ckeditor-dev/git/commits/1878f1a35306c5fa1cb4622d8f42c02d772741fb">Started 4.3 development.</a></p>

<div class="github-change"><a data-cke-pa-onclick="var f=this.parentNode.getElementsByClassName(&quot;github-file&quot;)[0];f.className=&quot;github-file&quot;+(f.className.match(/visible/)?&quot;&quot;:&quot; visible&quot;);event.preventDefault();" data-cke-saved-href="https://github.com/ckeditor/ckeditor-dev/blob/1878f1a35306c5fa1cb4622d8f42c02d772741fb/CHANGES.md" href="https://github.com/ckeditor/ckeditor-dev/blob/1878f1a35306c5fa1cb4622d8f42c02d772741fb/CHANGES.md" target="_blank">CHANGES.md</a> <span class="github-stats"> <span class="github-addition">+2</span> </span>

<div class="github-file">
<table class="highlighttable">
	<tbody>
		<tr>
			<td class="linenos">
			<div class="linenodiv">
			<pre>
1
2
3
4
5
6
7
8
9</pre>
			</div>
			</td>
			<td class="code">
			<div class="highlight">
			<pre>
<span class="gu">@@ -1,6 +1,8 @@</span>
 CKEditor 4 Changelog
 ====================

<span class="gi">+## CKEditor 4.3</span>
<span class="gi">+</span>
 ## CKEditor 4.2.1

 ## CKEditor 4.2
</pre>
			</div>
			</td>
		</tr>
	</tbody>
</table>
</div>
</div>
</div>
</div>

<p>Gist sample:</p>

<div data-oembed-url="https://gist.github.com/leedo/796300">
<div class="noembed-embed-inner noembed-gist">
<h3>gistfile1.pl</h3>

<div class="gist-file">
<table class="highlighttable">
	<tbody>
		<tr>
			<td class="linenos">
			<div class="linenodiv">
			<pre>
1
2
3
4
5
6
7
8
9</pre>
			</div>
			</td>
			<td class="code">
			<div class="highlight">
			<pre>
<span class="n">get</span> <span class="s">"/{tweet:[0-9]+}"</span> <span class="o">=&gt;</span> <span class="k">sub </span><span class="p">{</span>
  <span class="k">my</span> <span class="p">(</span><span class="nv">$req</span><span class="p">,</span> <span class="nv">$res</span><span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>
  <span class="k">my</span> <span class="nv">$id</span> <span class="o">=</span> <span class="nv">$req</span><span class="o">-&gt;</span><span class="n">captures</span><span class="o">-&gt;</span><span class="p">{</span><span class="n">tweet</span><span class="p">};</span>

  <span class="nv">$ua</span><span class="o">-&gt;</span><span class="n">get</span><span class="p">(</span><span class="s">"statuses/show/$id"</span><span class="p">,</span> <span class="k">sub </span><span class="p">{</span>
    <span class="k">my</span> <span class="p">(</span><span class="nv">$hdr</span><span class="p">,</span> <span class="nv">$tweet</span><span class="p">,</span> <span class="nv">$reason</span><span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>
    <span class="nv">$res</span><span class="o">-&gt;</span><span class="nb">send</span><span class="p">(</span><span class="s">"&lt;pre&gt;"</span><span class="o">.</span><span class="n">Dumper</span><span class="p">(</span><span class="nv">$tweet</span><span class="p">)</span><span class="o">.</span><span class="s">"&lt;/pre&gt;"</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">};</span>
</pre>
			</div>
			</td>
		</tr>
	</tbody>
</table>
</div>
</div>
</div>
	</div>

	<div class="source" id="content_default+no_cache">
		<p>Vimeo video:</p>
		<div data-oembed-url="http://vimeo.com/46523580"></div>
		<p>Twitter sample:</p>
		<div data-oembed-url="https://twitter.com/ckeditor/status/425619710181650432"></div>
		<p>Github commit:</p>
		<div data-oembed-url="https://github.com/ckeditor/ckeditor-dev/commit/1878f1a35306c5fa1cb4622d8f42c02d772741fb"></div>
		<p>Gist sample:</p>
		<div data-oembed-url="https://gist.github.com/leedo/796300"></div>
	</div>

	<script>
		function stratUpdate( stratPicker ) {
			stratPicker.disabled = true;
			if ( CKEDITOR.instances.editor1 ) {
				CKEDITOR.instances.editor1.destroy();
			}

			var stratName = stratPicker.value.split( '+' )[ 0 ];

			editor = CKEDITOR.replace( 'editor1', {
				extraPlugins: 'mediaembed',
				mediaEmbed_output: stratName,
				height: 500,
				on: {
					instanceReady: function( evt ) {
						stratPicker.disabled = false;
					}
				}
			} );
			editor.setData( document.getElementById( 'content_' + stratPicker.value ).innerHTML );
		}

		stratUpdate( document.getElementById( 'strategy' ) );
	</script>
</body>
</html>
